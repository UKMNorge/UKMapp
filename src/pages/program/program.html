<ion-header>
	<ion-navbar>
		<ion-title>
			Program
		</ion-title>
	</ion-navbar>
</ion-header>

<ion-content>

	<div padding>
		<ion-segment [(ngModel)]="valgtProgramModus">
			<ion-segment-button value="public">
				Program
			</ion-segment-button>
			<ion-segment-button value="mine">
				Mitt program
			</ion-segment-button>
		</ion-segment>

		<div [ngSwitch]="valgtProgramModus">
			<p *ngSwitchCase="'public'">
				Programmet for hele festivalen.
			</p>

			<p *ngSwitchCase="'mine'">
				Ditt eget festivalprogram.
			</p>

		</div>

	</div>
	<div *ngIf="program != null">
		<ion-list>
			<ion-item *ngFor="let hendelse of program.getAll()">
				<ion-label (click)="visHendelse( hendelse.id );">
					<h2>
						{{ hendelse.navn }}
					</h2>
					<p>kl. {{ hendelse.start|date:'HH:mm' }} | {{ hendelse.sted }}</p>
					<ion-checkbox *ngIf="mittprogram.has( hendelse.id )" checked=true (ionChange)='updateMittprogram(hendelse.id, $event)'></ion-checkbox>
					<ion-checkbox *ngIf="!mittprogram.has( hendelse.id )" checked=false (ionChange)='updateMittprogram(hendelse.id, $event)'></ion-checkbox>
				</ion-label>

			</ion-item>
		</ion-list>
	</div>
</ion-content>